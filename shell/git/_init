#!/usr/bin/env zsh
source ${0:A:h}/../../deploy
source ${0:A:h}/../../env
GIT_DIR="$XDG_CONFIG_HOME/git"

install() {
  brew install git git-lfs gh diff-so-fancy git-standup git-extras git-flow-avh
  case $(_os) in
  macos)
    brew tap microsoft/git
    brew install --cask git-credential-manager-core
    ;;
  linux-debian)
    sudo apt install libgnome-keyring-dev
    ;;
  linux-arch)
    yay --needed -noconfirm -S gnome-keyring libsecret
    ;;
  esac
}

# update() {}

link() {
  rm -fv ~/.gitconfig $GIT_DIR/config
  mklink config $GIT_DIR/
}

clean() {
  rm -rfv $GIT_DIR
}

init "$@"
